<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>üöÄ –†–∞–∫–µ—Ç–Ω–∞—è –∏–≥—Ä–∞: –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞</title>
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      display: flex;
      height: 100vh;
      overflow: hidden;
    }
    .left {
      width: 50%;
      position: relative;
      overflow: hidden;
      background: linear-gradient(to bottom, #ff7e5f, #feb47b, #ffd89b, #a1c4fd, #6a93cb);
      display: flex;
      justify-content: center;
    }
    .right {
      width: 50%;
      padding: 20px;
      background: #f8f9fa;
      overflow-y: auto;
    }
    .rocket-container {
      position: relative;
      width: 100%;
      height: 100%;
    }
    .rocket {
      width: 130px;
      height: 200px;
      position: absolute;
      bottom: 0;
      left: 50%;
      transform: translateX(-50%);
      transition: bottom 0.1s linear, left 0.1s ease-out, transform 0.3s ease-in-out;
      z-index: 10;
    }
    .rocket img {
      width: 100%;
      height: 100%;
      object-fit: contain;
      display: block;
    }
    .explosion {
      position: absolute;
      font-size: 60px;
      display: none;
      z-index: 20;
      animation: explode 1s ease-out forwards;
    }
    @keyframes explode {
      0% { transform: scale(0.5); opacity: 1; }
      100% { transform: scale(2); opacity: 0; }
    }
    .cloud {
      position: absolute;
      font-size: 40px;
      opacity: 0.8;
      z-index: 5;
      animation: cloudMove linear infinite;
    }
    .planet {
      position: absolute;
      font-size: 30px;
      top: 20px;
      z-index: 1;
    }
    @keyframes cloudMove {
      from { transform: translateX(-100px); }
      to { transform: translateX(calc(100vw + 100px)); }
    }
    .ground {
      position: absolute;
      bottom: 0;
      width: 100%;
      height: 60px;
      background: linear-gradient(to right, #8B4513, #A0522D, #8B4513);
      z-index: 2;
    }
    .launch-pad {
      position: absolute;
      bottom: 60px;
      left: 50%;
      transform: translateX(-50%);
      width: 80px;
      height: 20px;
      background: #555;
      z-index: 3;
    }
    textarea {
      width: 100%;
      height: 200px;
      font-family: 'Courier New', Courier, monospace;
      margin: 15px 0;
      padding: 10px;
      border-radius: 5px;
      border: 1px solid #ced4da;
    }
    .params, .result {
      background: white;
      padding: 15px;
      border-radius: 5px;
      margin: 15px 0;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
      white-space: pre-wrap;
    }
    .btn {
      margin-right: 10px;
      margin-bottom: 10px;
    }
    .rotate {
      animation: rotate 0.5s linear infinite;
    }
    @keyframes rotate {
      from { transform: translateX(-50%) rotate(0deg); }
      to { transform: translateX(-50%) rotate(360deg); }
    }
    .shake {
      animation: shake 0.5s linear infinite;
    }
    @keyframes shake {
      0%, 100% { transform: translateX(-50%) rotate(-5deg); }
      50% { transform: translateX(-50%) rotate(5deg); }
    }
    .modal-content {
      padding: 20px;
    }
    .info-table {
      width: 100%;
      margin: 15px 0;
      border-collapse: collapse;
    }
    .info-table th, .info-table td {
      border: 1px solid #ddd;
      padding: 8px;
      text-align: left;
    }
    .info-table th {
      background-color: #f2f2f2;
    }
    .info-table tr:nth-child(even) {
      background-color: #f9f9f9;
    }
    .dropdown-menu {
      padding: 10px;
      min-width: 300px;
    }
  </style>
</head>
<body>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π -->
  <div class="modal fade" id="infoModal" tabindex="-1" aria-labelledby="infoModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-lg">
      <div class="modal-content">
        <div class="modal-header">
          <h5 class="modal-title" id="infoModalLabel">–ù–∞—É—á–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –∑–∞–ø—É—Å–∫–µ —Ä–∞–∫–µ—Ç—ã</h5>
          <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
        </div>
        <div class="modal-body">
          <h4>–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —É—Å–ø–µ—à–Ω–æ–º—É –∑–∞–ø—É—Å–∫—É —Ä–∞–∫–µ—Ç—ã</h4>

          <h5 class="mt-4">1. –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π</h5>
          <table class="info-table">
            <tr>
              <th>–°–∏–ª–∞ –≤–µ—Ç—Ä–∞ (–º/—Å)</th>
              <th>–¢—Ä–µ–±—É–µ–º–æ–µ –∫–æ–ª–∏—á–µ—Å—Ç–≤–æ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π</th>
            </tr>
            <tr>
              <td>0-5</td>
              <td>1 –¥–≤–∏–≥–∞—Ç–µ–ª—å</td>
            </tr>
            <tr>
              <td>6-15</td>
              <td>2 –¥–≤–∏–≥–∞—Ç–µ–ª—è</td>
            </tr>
            <tr>
              <td>16+</td>
              <td>3 –¥–≤–∏–≥–∞—Ç–µ–ª—è</td>
            </tr>
          </table>

          <h5 class="mt-4">2. –¢–æ–ø–ª–∏–≤–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞</h5>
          <p>–ö–æ–ª–∏—á–µ—Å—Ç–≤–æ —Ç–æ–ø–ª–∏–≤–∞ –¥–æ–ª–∂–Ω–æ –±—ã—Ç—å –Ω–µ –º–µ–Ω–µ–µ 80% –æ—Ç –º–∞—Å—Å—ã —Ä–∞–∫–µ—Ç—ã. –§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞:</p>
          <p><code>–ú–∏–Ω–∏–º–∞–ª—å–Ω–æ–µ —Ç–æ–ø–ª–∏–≤–æ = –ú–∞—Å—Å–∞ —Ä–∞–∫–µ—Ç—ã √ó 0.8</code></p>
          <p>–†–µ–∫–æ–º–µ–Ω–¥—É–µ–º–æ–µ –∑–Ω–∞—á–µ–Ω–∏–µ: <code>–ú–∞—Å—Å–∞ —Ä–∞–∫–µ—Ç—ã √ó 0.9</code></p>

          <h5 class="mt-4">3. –¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–Ω—ã–µ —Å–∏—Å—Ç–µ–º—ã</h5>
          <table class="info-table">
            <tr>
              <th>–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞ (¬∞C)</th>
              <th>–¢—Ä–µ–±—É–µ–º—ã–µ —Å–∏—Å—Ç–µ–º—ã</th>
            </tr>
            <tr>
              <td>‚â§ -5</td>
              <td>1 —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–µ–≤–∞</td>
            </tr>
            <tr>
              <td>-4 –¥–æ 15</td>
              <td>–ù–µ—Ç —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–π</td>
            </tr>
            <tr>
              <td>16 –¥–æ 30</td>
              <td>1 –æ—Ö–ª–∞–∂–¥–∞—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞</td>
            </tr>
            <tr>
              <td>31+</td>
              <td>2 –æ—Ö–ª–∞–∂–¥–∞—é—â–∏–µ —Å–∏—Å—Ç–µ–º—ã</td>
            </tr>
          </table>

          <h5 class="mt-4">4. –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞</h5>
          <p>–§–æ—Ä–º—É–ª–∞ —Ä–∞—Å—á–µ—Ç–∞ —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è –≤–æ–∑–¥—É—Ö–∞:</p>
          <p><code>F = 0.5 √ó C √ó A √ó œÅ √ó v¬≤</code></p>
          <p>–ì–¥–µ:</p>
          <ul>
            <li><strong>C</strong> - –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è (0.75)</li>
            <li><strong>A</strong> - –ø–ª–æ—â–∞–¥—å –º–∏–¥–µ–ª—è —Ä–∞–∫–µ—Ç—ã (2.5 –º¬≤)</li>
            <li><strong>œÅ</strong> - –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–¥—É—Ö–∞ (1.225 –∫–≥/–º¬≥)</li>
            <li><strong>v</strong> - —Å–∫–æ—Ä–æ—Å—Ç—å –≤–µ—Ç—Ä–∞ (–º/—Å)</li>
          </ul>
          <p>–í–∞—à —Ä–∞—Å—á–µ—Ç –¥–æ–ª–∂–µ–Ω –æ—Ç–ª–∏—á–∞—Ç—å—Å—è –æ—Ç –æ–∂–∏–¥–∞–µ–º–æ–≥–æ –Ω–µ –±–æ–ª–µ–µ —á–µ–º –Ω–∞ 10%.</p>
        </div>
        <div class="modal-footer">
          <button type="button" class="btn btn-primary" data-bs-dismiss="modal">–ó–∞–∫—Ä—ã—Ç—å</button>
        </div>
      </div>
    </div>
  </div>

  <div class="left">
    <div class="rocket-container">
      <div class="ground"></div>
      <div class="launch-pad"></div>
      <div id="rocket" class="rocket">
        <img src="https://static.vecteezy.com/system/resources/thumbnails/019/045/384/small/rocket-icon-simple-start-up-sign-and-symbol-png.png" alt="Rocket" />
      </div>
      <div id="explosion" class="explosion">üí•</div>
      <div id="clouds-container"></div>
      <div id="planets-container"></div>
    </div>
  </div>

  <div class="right">
    <h2 class="mb-4">üöÄ –†–∞–∫–µ—Ç–Ω–∞—è –∏–≥—Ä–∞</h2>

    <div class="d-flex align-items-center mb-3">
      <button class="btn btn-primary me-2" onclick="generateConditions()">–°–≥–µ–Ω–µ—Ä–∏—Ä–æ–≤–∞—Ç—å —É—Å–ª–æ–≤–∏—è</button>

      <div class="dropdown">
        <button class="btn btn-info dropdown-toggle" type="button" id="dropdownMenuButton" data-bs-toggle="dropdown" aria-expanded="false">
          –ë—ã—Å—Ç—Ä—ã–µ –ø–æ–¥—Å–∫–∞–∑–∫–∏
        </button>
        <ul class="dropdown-menu" aria-labelledby="dropdownMenuButton">
          <li><strong>–î–≤–∏–≥–∞—Ç–µ–ª–∏:</strong> 1 (–≤–µ—Ç–µ—Ä 0-5), 2 (6-15), 3 (16+)</li>
          <li><strong>–¢–æ–ø–ª–∏–≤–æ:</strong> ‚â• –º–∞—Å—Å–∞ √ó 0.8</li>
          <li><strong>–û—Ö–ª–∞–∂–¥–µ–Ω–∏–µ:</strong> 1 (16-30¬∞C), 2 (31+¬∞C)</li>
          <li><strong>–ù–∞–≥—Ä–µ–≤:</strong> 1 (‚â§ -5¬∞C)</li>
          <li><hr class="dropdown-divider"></li>
          <li><button class="btn btn-sm btn-outline-primary w-100" data-bs-toggle="modal" data-bs-target="#infoModal">–ü–æ–¥—Ä–æ–±–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è</button></li>
        </ul>
      </div>
    </div>

    <div class="params" id="params"></div>

    <textarea id="userCode">function getRocketConfig(mass, wind, temperature, dragExpected) {
  let engines = 1;
  let fuel = 0;
  let coldSystem = 0;
  let heatSystem = 0;

  // –°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞: F = 0.5 * C * A * rho * v^2
  const C = 0.75; // –∫–æ—ç—Ñ—Ñ–∏—Ü–∏–µ–Ω—Ç —Å–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏—è
  const A = 2.5; // –ø–ª–æ—â–∞–¥—å –º–∏–¥–∏–∞-—Ä–∞–∫–µ—Ç—ã
  const rho = 1.225; // –ø–ª–æ—Ç–Ω–æ—Å—Ç—å –≤–æ–∑–¥—É—Ö–∞ (–∫–≥/–º^3)

  return {
    fuel,
    windRocket: engines,
    coldSystem,
    heatSystem,
    airResistance: drag
  };
}</textarea>

    <button class="btn btn-success" onclick="launch()">–ó–∞–ø—É—Å—Ç–∏—Ç—å —Ä–∞–∫–µ—Ç—É</button>
    <div class="result" id="result"></div>
  </div>

  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
  <script>
    const rocket = document.getElementById("rocket");
    const explosion = document.getElementById("explosion");
    const paramsEl = document.getElementById("params");
    const resultEl = document.getElementById("result");
    const cloudsContainer = document.getElementById("clouds-container");
    const planetsContainer = document.getElementById("planets-container");

    let mass = null, wind = null, temperature = null, dragExpected = null, launchInterval = null;

    // –ü–ª–∞–Ω–µ—Ç—ã –¥–ª—è —Ñ–æ–Ω–∞
    const planets = ['ü™ê', 'üåü'];

    function createPlanets() {
      planetsContainer.innerHTML = '';
      const planetsCount = 3 + Math.floor(Math.random() * 3);
      for (let i = 0; i < planetsCount; i++) {
        const planet = document.createElement('div');
        planet.className = 'planet';
        planet.textContent = planets[Math.floor(Math.random() * planets.length)];
        planet.style.left = `${10 + Math.random() * 80}%`;
        planet.style.opacity = `${0.5 + Math.random() * 0.5}`;
        planetsContainer.appendChild(planet);
      }
    }

    function createClouds() {
      cloudsContainer.innerHTML = '';
      if (!wind) return;

      const cloudCount = Math.min(10, Math.floor(wind / 3) + 1);
      for (let i = 0; i < cloudCount; i++) {
        const cloud = document.createElement('div');
        cloud.className = 'cloud';
        cloud.textContent = '‚òÅÔ∏è';
        cloud.style.top = `${20 + Math.random() * 50}%`;
        cloud.style.left = `${Math.random() * 100}%`;
        cloud.style.animationDuration = `${30 - wind + Math.random() * 10}s`;
        cloud.style.animationDelay = `-${Math.random() * 20}s`;
        cloudsContainer.appendChild(cloud);
      }
    }

    function generateConditions() {
      mass = (Math.floor(Math.random() * 10) + 1) * 1000;
      wind = Math.floor(Math.random() * 26);
      temperature = Math.floor(Math.random() * 61) - 15;

      const C = 0.75, A = 2.5, rho = 1.225, v = wind;
      dragExpected = 0.5 * C * A * rho * v * v;

      stopAnimation();
      rocket.style.bottom = "0px";
      rocket.style.left = "50%";
      rocket.style.transform = "translateX(-50%)";
      rocket.style.display = "block";
      rocket.className = "rocket";
      explosion.style.display = "none";

      createPlanets();
      createClouds();

      paramsEl.textContent = `–í–µ—Å —Ä–∞–∫–µ—Ç—ã: ${mass} –∫–≥\n–°–∏–ª–∞ –≤–µ—Ç—Ä–∞: ${wind} –º/—Å\n–¢–µ–º–ø–µ—Ä–∞—Ç—É—Ä–∞: ${temperature} ¬∞C`;
      resultEl.textContent = "";
    }

    function stopAnimation() {
      clearInterval(launchInterval);
    }

    function launch() {
      stopAnimation();
      rocket.style.left = "50%";
      rocket.style.bottom = "0px";
      rocket.style.transform = "translateX(-50%)";
      rocket.style.display = "block";
      rocket.className = "rocket";

      if (!mass || wind === null || temperature === null) {
        resultEl.textContent = "–°–Ω–∞—á–∞–ª–∞ —Å–≥–µ–Ω–µ—Ä–∏—Ä—É–π—Ç–µ —É—Å–ª–æ–≤–∏—è!";
        return;
      }

      const userCode = document.getElementById("userCode").value;
      try {
        const userFunc = new Function("mass", "wind", "temperature", "dragExpected", userCode + "\n return getRocketConfig(mass, wind, temperature, dragExpected);");
        const config = userFunc(mass, wind, temperature, dragExpected);
        const { fuel, windRocket, coldSystem = 0, heatSystem = 0, airResistance } = config;

        if ([fuel, windRocket, airResistance].some(v => typeof v !== "number")) {
          resultEl.textContent = "–§—É–Ω–∫—Ü–∏—è –¥–æ–ª–∂–Ω–∞ –≤–µ—Ä–Ω—É—Ç—å fuel, windRocket, airResistance (–≤—Å–µ —á–∏—Å–ª–∞)";
          return;
        }

        if (fuel < mass * 0.8) return resultEl.textContent = `–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ —Ç–æ–ø–ª–∏–≤–∞. –ù—É–∂–Ω–æ –º–∏–Ω–∏–º—É–º ${Math.ceil(mass * 0.8)} –ª.`;

        const requiredEngines = wind > 15 ? 3 : wind > 5 ? 2 : 1;
        if (windRocket < requiredEngines) return driftRocket("–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–≤–∏–≥–∞—Ç–µ–ª–µ–π –¥–ª—è —Ç–∞–∫–æ–≥–æ –≤–µ—Ç—Ä–∞! –†–∞–∫–µ—Ç—É —Å–¥—É–ª–æ! üí®");

        if (temperature > 30 && coldSystem < 2) return explodeRocket("–°–ª–∏—à–∫–æ–º –∂–∞—Ä–∫–æ! –†–∞–∫–µ—Ç–∞ –ø–µ—Ä–µ–≥—Ä–µ–ª–∞—Å—å –∏ –≤–∑–æ—Ä–≤–∞–ª–∞—Å—å!");
        if (temperature > 15 && coldSystem < 1) return explodeRocket("–ù—É–∂–Ω–∞ –æ—Ö–ª–∞–∂–¥–∞—é—â–∞—è —Å–∏—Å—Ç–µ–º–∞! –í–∑—Ä—ã–≤!");
        if (temperature <= -5 && heatSystem < 1) return explodeRocket("–°–ª–∏—à–∫–æ–º —Ö–æ–ª–æ–¥–Ω–æ! –ù—É–∂–Ω–∞ —Å–∏—Å—Ç–µ–º–∞ –Ω–∞–≥—Ä–µ–≤–∞. –í–∑—Ä—ã–≤!");

        if (Math.abs(airResistance - dragExpected) > dragExpected * 0.1) {
          return gravityFail("–°–æ–ø—Ä–æ—Ç–∏–≤–ª–µ–Ω–∏–µ –≤–æ–∑–¥—É—Ö–∞ —Ä–∞—Å—Å—á–∏—Ç–∞–Ω–æ –Ω–µ–≤–µ—Ä–Ω–æ! –†–∞–∫–µ—Ç–∞ –Ω–µ —Å–ø—Ä–∞–≤–ª—è–µ—Ç—Å—è –∏ –ø–∞–¥–∞–µ—Ç.");
        }

        resultEl.innerHTML = `<span class="text-success">üöÄ –£—Å–ø–µ—à–Ω—ã–π –∑–∞–ø—É—Å–∫!</span>\n–¢–æ–ø–ª–∏–≤–æ: ${fuel} –ª\n–î–≤–∏–≥–∞—Ç–µ–ª–∏: ${windRocket}`;
        animateRocket();

      } catch (e) {
        resultEl.textContent = "–û—à–∏–±–∫–∞ –≤ –≤–∞—à–µ–π —Ñ—É–Ω–∫—Ü–∏–∏: " + e.message;
      }
    }

    function animateRocket() {
      let height = 0;
      launchInterval = setInterval(() => {
        height += 5;
        rocket.style.bottom = height + "px";
        if (height > window.innerHeight) clearInterval(launchInterval);
      }, 30);
    }

    function driftRocket(msg) {
      resultEl.textContent = msg;
      let height = 0, left = 50;
      rocket.classList.add('rotate');
      launchInterval = setInterval(() => {
        height += 4; left += 1.5;
        rocket.style.bottom = height + "px";
        rocket.style.left = left + "%";
        if (left > 100 || height > window.innerHeight / 2) clearInterval(launchInterval);
      }, 50);
    }

    function explodeRocket(message) {
      resultEl.textContent = message;
      let height = 0, maxHeight = window.innerHeight / 2;
      rocket.classList.add('shake');
      launchInterval = setInterval(() => {
        height += 5;
        rocket.style.bottom = height + "px";
        if (height >= maxHeight) {
          clearInterval(launchInterval);
          rocket.style.display = "none";
          explosion.style.display = "block";
          explosion.style.left = rocket.style.left;
          explosion.style.bottom = rocket.style.bottom;
          setTimeout(() => {
            explosion.style.display = "none";
            rocket.style.bottom = "0px";
            rocket.style.left = "50%";
            rocket.style.transform = "translateX(-50%)";
            rocket.style.display = "block";
            rocket.className = "rocket";
          }, 1000);
        }
      }, 30);
    }

    function gravityFail(message) {
      resultEl.textContent = message;
      let height = 0, up = true;
      launchInterval = setInterval(() => {
        height += up ? 4 : -4;
        if (height > 150) up = false;
        if (height <= 0) {
          clearInterval(launchInterval);
          rocket.classList.add('shake');
          setTimeout(() => rocket.className = "rocket", 500);
        }
        rocket.style.bottom = height + "px";
      }, 30);
    }

    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è
    generateConditions();
  </script>
</body>
</html>