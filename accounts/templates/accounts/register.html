{% extends "base.html" %}
{% load static %}

{% block title %}Регистрация{% endblock %}

{% block content %}
<div class="row justify-content-center mt-4">
    <div class="col-md-8 col-lg-6">
        <div class="hacker-card p-4">
            <h2 class="text-center mb-4 terminal-effect" style="padding-left: 10px;">> Создание нового аккаунта_</h2>

            <form method="post" class="needs-validation" novalidate>
                {% csrf_token %}

                <div class="mb-3">
                    <label for="{{ form.username.id_for_label }}" class="form-label">> Имя пользователя:</label>
                    <input type="text" 
                           class="form-control hacker-form-control" 
                           id="{{ form.username.id_for_label }}"
                           name="{{ form.username.html_name }}"
                           required>
                    {% if form.username.errors %}
                        <div class="invalid-feedback d-block text-danger">
                            {{ form.username.errors.as_text }}
                        </div>
                    {% endif %}
                </div>

                <div class="mb-4">
                    <label for="{{ form.password.id_for_label }}" class="form-label">> Пароль:</label>
                    <input type="password" 
                           class="form-control hacker-form-control" 
                           id="{{ form.password.id_for_label }}"
                           name="{{ form.password.html_name }}"
                           required>
                    {% if form.password.errors %}
                        <div class="invalid-feedback d-block text-danger">
                            {{ form.password.errors.as_text }}
                        </div>
                    {% endif %}
                </div>

                <div class="d-grid">
                    <button type="submit" class="btn hacker-btn py-2">
                        > Зарегистрировать аккаунт_
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<style>
    .hacker-card {
        background-color: var(--hacker-light);
        border: 1px solid var(--hacker-green);
        box-shadow: 0 0 15px rgba(0, 255, 0, 0.3);
        animation: pulse 2s infinite alternate;
    }
    
    @keyframes pulse {
        from { box-shadow: 0 0 10px rgba(0, 255, 0, 0.3); }
        to { box-shadow: 0 0 20px rgba(0, 255, 0, 0.6); }
    }
    
    .form-label {
        color: var(--hacker-accent);
        font-weight: bold;
        margin-bottom: 0.5rem;
    }
    
    .text-danger {
        color: #ff5555 !important;
        text-shadow: 0 0 5px rgba(255, 85, 85, 0.5);
    }
    
    .hacker-form-control {
        background-color: var(--hacker-light);
        color: var(--hacker-green);
        border: 1px solid var(--hacker-accent);
        font-family: 'Courier New', monospace;
    }
    
    .hacker-form-control:focus {
        background-color: var(--hacker-light);
        color: var(--hacker-green);
        border-color: var(--hacker-green);
        box-shadow: 0 0 0 0.25rem rgba(0, 255, 0, 0.25);
    }
</style>

<script>
document.addEventListener('DOMContentLoaded', function() {
    // Анимация при успешной регистрации
    const form = document.querySelector('form');
    if (form) {
        form.addEventListener('submit', function(e) {
            const submitBtn = this.querySelector('button[type="submit"]');
            if (submitBtn) {
                submitBtn.innerHTML = '> Обработка данных_ <span class="spinner-border spinner-border-sm"></span>';
                submitBtn.disabled = true;
            }
        });
    }
});
</script>
{% endblock %}